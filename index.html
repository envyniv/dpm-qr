<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <link rel="icon" type="image/x-icon" href="assets/favicon.gif" />
    <link rel="stylesheet" href="style.css" />
    <title>Denpa Designer</title>
    <script type="text-x-plain" src="js/page.js"></script>
    <script type="text/x-plain" src="js/dpm.js"></script>
    <script type="text/x-plain" src="js/dpm2.js"></script>
    <script type="text/x-plain" src="js/dpm3.js"></script>
  </head>
  <body>
    <h1><img src="assets/logo.png" alt="The Denpa Men Designer"/></h1>
    <div class="hcont">
      <form action="php/main.php" target="output">
	<fieldset class="denpa">
	  <legend>Denpa Man</legend>
	  
	  <!--<label for="name">Name</label>-->
	  <table>
	    <tr>
	      <td>
		<input type="text" name="name" value="Takeshi"/>
	      </td>
	      <td>
		<label>Lv. 1</label>
	      </td>
	    </tr>
	    
	    <tr>
	      <td>
		<label>Max HP</label>
	      </td>
	      <td>
		<input type="number" id="hp" name="hp" />
	      </td>
	    </tr>

	    <tr>
	      <td>
		<label>Max AP</label>
	      </td>
	      <td>
		<input type="number" id="ap" name="ap" />
	      </td>
	    </tr>

	    <tr>
	      <td>
		<label>Attack</label>
	      </td>
	      <td>
		<input type="number" id="atk" name="atk" />
	      </td>
	    </tr>

	    <tr>
	      <td>
		<label>Defense</label>
	      </td>
	      <td>
		<input type="number" id="def" name="def" />
	      </td>
	    </tr>

	    <tr>
	      <td>
		<label>Speed</label>
	      </td>
	      <td>
		<input type="number" id="spd" name="spd" />
	      </td>
	    </tr>

	    <tr>
	      <td>
		<label>Evade</label>
	      </td>
	      <td>
		<input type="number" id="eva" name="eva" />
	      </td>
	    </tr>

	    <tr class="center">
	      <td colspan="2">
		<select name="color">
		  <option value="0">Black</option>
		</select>
	      </td>
	    </tr>
	    
	    <tr class="center">
	      <td colspan="2">
		<select name="antenna">
		  <option value="0">None</option>
		</select>
	      </td>
	    </tr>

	    <tr class="center">
	      <td colspan="2">
		<label>Found Today</label>
	      </td>
	    </tr>
	    
	  </table>
	</fieldset>

	<fieldset class="settings">
	  <legend>Settings</legend>
	  <label for="mode">Output</label>
	  <br />
	  <p>
	    This defines what the data encoded in the QRCode should be like.
	    <br />
	    Most homebrew applications will have a easier time using JSON.
	    <br />
	    The official games use Binary.
	  </p>
	  <br />
	  <input type="radio" name="mode" id="modebin" value="game" checked="true" />
	  <label for="modebin">Binary</label>
	  <input type="radio" name="mode" id="modetext" value="text"/>
	  <label for="modetext">JSON</label>

	  
	  <hr />

	  <noscript>
	    <p>You don't have javascript enabled.  Only PHP Mode is available.</p>
	    <hr />
	  </noscript>
	  <section>
	    
	    <script type="text/javascript" id="opsel">
	      var self = document.getElementById( "opsel" );
	      const music_tags = `
	      <hr />
	      <label class="switch" id="mus">
		<input type="checkbox" name="sfx"/>
		<span class="slider"></span>
	      </label>
	      <label for="mus">Music</label>
	      
	      <label class="switch" id="sfx">
		<input type="checkbox" name="sfx" checked="true" />
		<span class="slider"></span>
	      </label>
	      <label for="sfx">SFX</label>`;
	      window.onload = () => {
	      if (window.location.href.indexOf(".github.io") > -1) {
	      // github pages does not support PHP
	      self.parentNode.innerHTML = `
	      <p>GitHub Pages detected. PHP disabled.</p>
	      ` + music_tags;
	      return;
	      }
	      self.parentNode.innerHTML = `
	      <label>Mode of Operation</label>
	      <p>
		This specifies whether the generation should happen<br />
		on your machine or the one hosting this webpage. <br />
		If unsure, leave as-is.
	      </p>
	      <input type="radio" id="phpmode" name="opmode" value="php"/>
	      <label for="phpmode">Server</label>
	      <input type="radio" name="opmode" value="js" id="jsmode" checked="true"/>
	      <label for="jsmode">Browser</label>
	      ` + music_tags;
	      }
	    </script>
	  </section>
	  <br /><br />
	  <input class="button" type="submit" value="Force Reload"/>
	</fieldset>
	
      </form>

      <div class="vcont">
	<label for="preview">Your Denpa Man</label>
	<canvas id="preview" name="preview"/>
	<label for="data">Encoded Data</label>
	<textarea id="data" name="data" cols="50" rows="10"/>
      </div>
    </div>
  </body>
</html>
